/* RUTA: /app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================
   VARIABLES (HEX directos, sin theme() para evitar fallos)
   ========================================================= */
@layer base {
  :root{
    /* UI neutros */
    --bg:      #FAFCFE;
    --surface: #FFFFFF;
    --border:  #E7EDF3;
    --text:    #0F172A;
    --muted:   #475569;

    /* Paleta logo ALAF */
    --ink:     #2B2F33;   /* gris carbón / títulos generales */
    --celeste: #AEE3EB;   /* acento celeste */
    --lime:    #B7D96B;   /* acento lima */
    --pink:    #E8C7DC;   /* acento rosado */
    --outline: #5C5C5C;

    --radius: 1rem;

    /* Sombras pro (solo neutros, sin cambiar paleta) */
    --shadow-1: 0 14px 30px -18px rgba(15,23,42,.18);
    --shadow-2: 0 22px 55px -28px rgba(15,23,42,.22);
    --shadow-3: 0 30px 80px -40px rgba(15,23,42,.25);

    /* Ring suave (tipo K12: contorno fino + sombra ligera) */
    --ring-soft: 0 0 0 1px rgba(15,23,42,.06);

    /* Para anchors con navbar sticky (80px + aire) */
    scroll-padding-top: 96px;
  }

  html { height: 100%; scroll-behavior: smooth; }
  body {
    min-height: 100%;
    color: var(--text);
    background: transparent !important;

    /* Tipografía (inyectada por next/font en /app/layout.tsx) */
    font-family: var(--font-sans), ui-sans-serif, system-ui, -apple-system, "Segoe UI",
      Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  }

  /* Reduced motion: respeta accesibilidad */
  @media (prefers-reduced-motion: reduce) {
    html { scroll-behavior: auto; }
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Focus visible (accesible y pro) */
  :focus-visible{
    outline: 3px solid color-mix(in srgb, var(--celeste) 65%, #ffffff 35%);
    outline-offset: 2px;
  }

  /* =========================
     REVEAL (scroll) — sutil y premium
     - Solo se activa cuando JS añade la clase `js` al <html>
     - Sin JS: todo se ve normal
     ========================= */
  .js [data-reveal]{
    opacity: 0;
    filter: blur(2px);
    transition:
      opacity 600ms cubic-bezier(.2,.8,.2,1),
      filter 600ms cubic-bezier(.2,.8,.2,1);
    transition-delay: var(--reveal-delay, 0ms);
    will-change: opacity, filter;
  }
  @supports (translate: 0 0) {
    .js [data-reveal]{
      translate: 0 12px;
      transition:
        opacity 600ms cubic-bezier(.2,.8,.2,1),
        translate 600ms cubic-bezier(.2,.8,.2,1),
        filter 600ms cubic-bezier(.2,.8,.2,1);
    }
    .js [data-reveal].is-revealed{ translate: 0 0; }
  }
  @supports not (translate: 0 0) {
    .js [data-reveal]{
      transform: translateY(12px);
      transition:
        opacity 600ms cubic-bezier(.2,.8,.2,1),
        transform 600ms cubic-bezier(.2,.8,.2,1),
        filter 600ms cubic-bezier(.2,.8,.2,1);
    }
    .js [data-reveal].is-revealed{ transform: translateY(0); }
  }
  .js [data-reveal].is-revealed{
    opacity: 1;
    filter: blur(0);
  }

  @media (prefers-reduced-motion: reduce){
    .js [data-reveal],
    .js [data-reveal].is-revealed{
      opacity: 1 !important;
      filter: none !important;
      transform: none !important;
      translate: none !important;
    }
  }

  /* =========================
     CAPA DE FONDO CELESTE FIJA
     (Se inyecta el <div class="page-bg" /> en app/layout.tsx)
     ========================= */
  .page-bg{
    position: fixed;
    inset: 0;
    z-index: -1;
    background:
      radial-gradient(1200px 620px at 86% -12%,
        rgba(174,227,235,0.85) 0%,
        rgba(174,227,235,0.00) 60%
      ),
      radial-gradient(900px 520px at -10% 5%,
        #E9F6FB 0%,
        rgba(233,246,251,0) 58%
      ),
      var(--bg);
  }

  /* Títulos base (sin forzar color para no pisar el Hero) */
  .h1 { @apply text-4xl md:text-5xl font-semibold tracking-tight; }
  .h2 { @apply text-3xl md:text-4xl font-semibold; }
  .muted { color: var(--muted) !important; }

  /* Divisor suave (tipo “strip divider”) */
  .divider{
    height: 1px;
    background: color-mix(in srgb, var(--border) 70%, #ffffff 30%);
  }
}

/* =========================================================
   LAYOUT & CARDS (unificación de ritmo)
   ========================================================= */
.container-max { @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8; }

/* Más ritmo tipo K12: menos “bloque gigante”, más aire controlado */
.section      { @apply py-14 md:py-20 lg:py-24; }

/* Superficies/panels consistentes */
.panel{
  border-radius: 1.5rem;
  background: color-mix(in srgb, #ffffff 70%, rgba(255,255,255,0) 30%);
  box-shadow: var(--shadow-1);
}

/* Cards consistentes + hover suave (solo en dispositivos con hover) */
.card{
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius);
  box-shadow: var(--shadow-1);
  transition: transform 200ms ease, box-shadow 200ms ease;
}
@media (hover:hover){
  .card:hover{
    box-shadow: var(--shadow-2);
    transform: translateY(-2px);
  }
}

/* =========================================================
   NAVBAR (rosado) — micro detalle pro
   ========================================================= */
header{
  background: color-mix(in srgb, var(--pink) 26%, #ffffff 74%) !important;
  backdrop-filter: blur(10px);
  border-bottom: 1px solid color-mix(in srgb, var(--pink) 38%, var(--border) 62%) !important;
  box-shadow: 0 10px 24px -20px rgba(43,47,51,.28);
}
header a{ color: var(--ink); }
header a:hover{ color: var(--ink); text-decoration: underline; }
/* evita underline en botones dentro del header */
header a.btn:hover{ text-decoration: none; }
header .btn-primary{ background: var(--ink) !important; color: #fff !important; }

/* =========================================================
   BOTONES — hover/active más fino, sin saltos agresivos
   ========================================================= */
.btn{
  @apply inline-flex items-center justify-center px-5 py-3 font-medium rounded-2xl transition focus:outline-none;
  will-change: transform;
}
.btn-primary{
  background: var(--ink) !important;
  color: #fff !important;
}

/* Hover solo cuando aplica */
@media (hover:hover){
  .btn-primary:hover{ filter: brightness(1.05); transform: translateY(-1px); }
  .btn-secondary:hover{ transform: translateY(-1px); }
}
.btn-primary:active{ transform: translateY(0); filter: brightness(1.02); }
.btn-primary:focus{ box-shadow: 0 0 0 4px color-mix(in srgb, var(--ink) 25%, #ffffff 75%); }

.btn-secondary{
  background: color-mix(in srgb, var(--celeste) 18%, #ffffff 82%) !important;
  color: var(--ink) !important;
  border: 1px solid color-mix(in srgb, var(--celeste) 24%, #e7edf3 76%) !important;
}

/* =========================================================
   FORM — inputs más “premium”
   ========================================================= */
input, textarea{
  @apply rounded-xl w-full px-4 py-3 outline-none transition;
  background: #FAFBFC;
  border: 1px solid var(--border);
  color: var(--text);
}
input::placeholder, textarea::placeholder{ color: #9aa7b3; }
input:focus, textarea:focus{
  border-color: color-mix(in srgb, var(--celeste) 60%, #ffffff 40%);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--celeste) 28%, #ffffff 72%);
}

/* =========================================================
   HERO (texto SIEMPRE blanco y legible)
   ========================================================= */

/* H1 del hero en blanco brillante */
.hero-title{
  color: #ffffff !important;
  text-shadow: 0 2px 12px rgba(0,0,0,.35);
}

/* Panel de texto del hero */
.hero-text-panel{
  background: linear-gradient(180deg, rgba(8,21,36,.58) 0%, rgba(8,21,36,.5) 100%);
  backdrop-filter: blur(6px);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: var(--radius);
  padding: 1.25rem 1.25rem 1.35rem;
  box-shadow: var(--shadow-3);
}

/* =========================================================
   ICONOS / CHECKS
   ========================================================= */
.feature-icon{
  display:inline-flex;align-items:center;justify-content:center;
  width:64px;height:64px;border-radius:9999px;
  background: radial-gradient(80% 80% at 30% 20%, #fff, color-mix(in srgb, var(--celeste) 14%, #fff 86%));
  border:1px solid color-mix(in srgb, var(--celeste) 22%, #e5e9ef 78%);
  color: var(--ink);
}
.check-badge{
  display:inline-flex;align-items:center;justify-content:center;
  width:28px;height:28px;border-radius:9999px;
  background: radial-gradient(70% 70% at 30% 20%, color-mix(in srgb, var(--lime) 32%, #fff 68%), color-mix(in srgb, var(--celeste) 26%, #fff 74%));
  border:1px solid color-mix(in srgb, var(--lime) 30%, var(--celeste) 70%);
  color:#0F172A;
  box-shadow: 0 4px 10px -6px rgba(15,23,42,.25);
}

/* =========================================================
   DOTS (testimonios) — más “K12”
   ========================================================= */
.dot{
  height:.55rem;
  width:1.25rem;
  border-radius:9999px;
  border:1px solid color-mix(in srgb, var(--border) 75%, #ffffff 25%);
  background: #e2e8f0;
  transition: width 180ms ease, background 180ms ease, border-color 180ms ease;
}
@media (hover:hover){
  .dot:hover{
    border-color: color-mix(in srgb, var(--celeste) 45%, var(--border) 55%);
  }
}
.dot[aria-current="true"]{
  width:2.1rem;
  background: var(--celeste) !important;
  border-color: var(--celeste) !important;
}

/* =========================================================
   FAQ
   ========================================================= */
.faq-item { border:1px solid var(--border); border-radius: var(--radius); }
.faq-head { @apply w-full text-left p-4 flex items-center justify-between; }
.faq-open { background: color-mix(in srgb, var(--celeste) 12%, #ffffff 88%) !important; }
.faq-body { @apply px-4 pb-4 text-slate-800; }

/* =========================================================
   FOOTER
   ========================================================= */
footer{
  background: #0B2545 !important;
  color: #E8EEF6 !important;
}
footer a{ color: #D7E3F5; }
footer a:hover{ color: #ffffff; text-decoration: underline; }

/* Legibilidad genérica */
.text-gray-300 { color:#64748b !important; }
.text-gray-200 { color:#475569 !important; }
